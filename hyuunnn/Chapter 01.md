## 코틀린 맛보기

```kotlin
data class Person(
    var name: String, val age: Int? = null
)

fun main(args: Array<String>) {
    val persons = listOf(Person("영희"), Person("철수", age=29))

    val oldset = persons.maxBy { it.age ?: 0}
    println("나이가 가장 많은 사람 $oldset")
}
```

`Person`은 데이터 클래스이며, java record를 사용해봤다면 쉽게 이해할 수 있는 문법이다.

코틀린은 Java에서 지원하지 않는 문법인 `?`를 사용하여 `null`을 부분적으로 허용할 수 있다.

예시 코드를 보면 매개변수 `age`가 `null`을 허용한 후 파라미터 디폴트 값으로 `null`을 정의하고 있다.

엘비스 연산자(`?:`)를 사용하면 `null`이 들어왔을 때 다른 값으로 반환할 수 있어 null-safe한 코드를 작성할 수 있다.

## 코틀린 주요 특성

### 타입 추론

C++11, Java 10부터 지원하는 기능이며, 코틀린은 처음부터 타입 추론 기능을 도입하였다.

타입 추론은 컴파일러가 문맥을 고려하여 변수 타입을 자동으로 결정한다.

### 함수형 프로그래밍

* 일급 시민인 함수: 함수를 변수에 저장하는 것처럼 값으로 표현할 수 있다. (값중심 프로그래밍)
* 불변성: 내부 상태가 변하지 않는 특성으로 인해 사이드 이펙트를 해결할 수 있다.

```kotlin
func findAlice() = findPerson { it.name == "Alice" }
fun findBob() = findPerson { it.name == "Bob" }
```

위 코드처럼 공통 부분을 함수로 뽑아내고, 서로 다른 세부 기능을 인자로 전달하여 간결하고 중복되지 않는 코드를 작성할 수 있다.

<a href="https://youtu.be/H6JxxWL6bJI?t=782">라인개발실록 - 함수형의 장점을 설명하는 부분</a>

### 자바와의 호환성 (상호운용성)

코틀린은 자바 코드와의 상호운용성을 중시하기 때문에 자바를 사용하는 곳에서 거의 대부분 코틀린을 활용할 수 있다.

성능 측면에서도 아무 손해가 없는데 코틀린 컴파일러가 생성한 바이트 코드도 자바와 똑같이 효율적으로 동작하기 때문이다.

코틀린은 자바 표준 라이브러리에 의존하며 코틀린에서 제공하는 API까지 있으므로 풍부한 기능을 제공한다. 

자바 클래스를 상속하거나 인터페이스를 구현하거나 자바 어노테이션을 코틀린 코드에 적용하는 등의 모든 일이 가능하다. 반대로 자바에서 코틀린 코드를 사용할 수도 있다.

```kotlin
@kotlin.internal.InlineOnly
public actual inline fun println(message: Any?) {
    System.out.println(message)
}
```

코틀린에서 출력하는 함수인 `println`은 `System.out.println`을 사용하고 있다.

## 코틀린 철학

### 실용성

다양한 프로그래밍 언어에 도입되어 검증된 해법과 기능에 의존하여 만들었다. 이로 인해 복잡도가 줄어들고 이미 알고 있는 기존 개념으로 코틀린을 쉽게 배울 수 있다.

특정 프로그래밍 패러다임을 강제로 요구하지 않으며, 자신의 스타일에 맞게 개발할 수 있다.

### 간결성

개발자는 코드를 작성하는 시간보다 읽는 시간이 더 많은데, 그렇다면 간결한 코드 작성이 필요하다. 코틀린은 `getter`, `setter`, 생성자 등으로 인해 길어지는 코드를 묵시적으로 제공하여 간결한 코드 작성이 가능하다.

다양한 표준 라이브러리들을 활용하여 길어지는 코드를 간결하게 작성할 수 있다.

### 안전성

코틀린은 실행 시점이 아닌 컴파일 시점에 검사하기 때문에 많은 오류들을 방지할 수 있다.

대표적으로 `NullPointerException`이 발생할 수 있는 연산을 사용하는 코드를 타입 시스템이 추적하여 금지하고 있다.

`null`이 필요하다면 `코틀린 맛보기`에서 사용했던 `?`를 사용하면 된다.

